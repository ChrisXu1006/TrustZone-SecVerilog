//=========================================================================
// parcv2-bltz.S
//=========================================================================

#include "parc-macros.h"

        TEST_PARC_BEGIN

        //-----------------------------------------------------------------
        // Branch tests
        //-----------------------------------------------------------------

        TEST_BR1_OP_TAKEN( bltz, -1 )
        TEST_BR1_OP_TAKEN( bltz, -10 )

        TEST_BR1_OP_NOTTAKEN( bltz, 0 )
        TEST_BR1_OP_NOTTAKEN( bltz, 1 )

        //-----------------------------------------------------------------
        // Bypassing tests
        //-----------------------------------------------------------------

        TEST_BR1_SRC0_BYP( 0, bltz, 1 )
        TEST_BR1_SRC0_BYP( 1, bltz, 1 )
        TEST_BR1_SRC0_BYP( 2, bltz, 1 )

        //-----------------------------------------------------------------
        // Test that there is no branch delay slot
        //-----------------------------------------------------------------

        li    $2, 1
        li    $3, -1
        bltz  $3, 1f
        addiu $2, 1
        addiu $2, 1
        addiu $2, 1
        addiu $2, 1
    1:  addiu $2, 1
        addiu $2, 1
        TEST_CHECK_EQ( $2, 3 )

        TEST_PARC_END

